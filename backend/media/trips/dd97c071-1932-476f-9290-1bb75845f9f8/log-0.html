
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Driver’s Daily Log — Preview</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <style>
      :root {
        --ink: #111;
        --muted: #666;
        --line: #000;
        --tick: #000000;
        --hour: white;
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        background: #fff;
        color: var(--ink);
        font-family: Arial, Helvetica, sans-serif;
      }
      @page {
        size: Letter;
        margin: 24pt 28pt;
      }
      .page {
        width: 816px;
        max-width: 100%;
        margin: 0 auto;
        padding: 0 6pt 24pt;
      }
      .row {
        display: flex;
        gap: 12pt;
      }
      .between {
        justify-content: space-between;
      }
      .col {
        display: flex;
        flex-direction: column;
      }
      .mt6 {
        margin-top: 6pt;
      }
      .mt8 {
        margin-top: 8pt;
      }
      .mt10 {
        margin-top: 10pt;
      }
      .mt12 {
        margin-top: 12pt;
      }
      .title {
        font-size: 14pt;
        font-weight: 700;
      }
      .sub {
        font-size: 8.5pt;
        color: var(--muted);
      }
      .bval {
        display: inline-block;
        font-size: 9pt;
        border: 1px solid var(--line);
        padding: 4pt 6pt;
        border-radius: 2pt;
        background: #fff;
      }
      .uline {
        display: block;
        min-height: 14pt;
        padding-bottom: 2pt;
        border-bottom: 1px solid var(--line);
      }
      .recap .uline {
        font-size: 10px;
      }
      .label {
        font-size: 8pt;
        color: var(--muted);
        margin-top: 4pt;
      }
      .grid-two {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 14pt;
      }

      .tl-wrap {
        border: 1px solid var(--line);
        border-radius: 2pt;
        overflow: hidden;
        margin-top: 10pt;
        position: relative;
      }
      .tl-head {
        border-bottom: 1px solid var(--line);
        display: grid;
        grid-template-columns: 70pt 1fr 38pt;
        align-items: end;
      }
      .tl-label-left {
        font-size: 9pt;
        padding: 4pt 6pt;
      }
      .tl-scale {
        position: relative;
        height: 22pt;
        border-left: 1px solid var(--line);
        border-right: 1px solid var(--line);
        background: #fff;
      }
      .tl-label-right {
        font-size: 9pt;
        text-align: center;
      }
      .hour {
        position: absolute;
        top: 0;
        bottom: 0;
      }
      .hour .h-txt {
        position: absolute;
        top: 2pt;
        left: 50%;
        transform: translateX(-50%);
        font-size: 7.5pt;
        background: #fff;
        padding: 0 2px;
      }
      .h-txt,
      .tl-scale,
      .tl-head {
        background-color: black !important;
        color: white;
      }

      .lane {
        display: grid;
        grid-template-columns: 70pt 1fr 38pt;
        min-height: 36pt;
        border-bottom: 1px solid var(--line);
      }
      .lane:last-child {
        border-bottom: 0;
      }
      .lane-name {
        font-size: 9pt;
        padding: 6pt;
      }
      .lane-total {
        font-size: 9pt;
        padding: 6pt 4pt;
        text-align: center;
      }
      .lane-track {
        position: relative;
        border-right: 1px solid var(--line);
        border-left: 1px solid var(--line);
        background: #fff;
        overflow: hidden;
      }

      .lane-track::before,
      .lane-track::after {
        content: "";
        position: absolute;
        left: 0;
        right: 0;
        height: 12px;
        pointer-events: none;
      }
      .lane-track::before {
        background-image: repeating-linear-gradient(
          90deg,
          var(--tick) 0 1px,
          transparent 1px calc(100% / 96)
        );
        background-repeat: repeat-x;
        background-size: calc(100% / 96) 100%;
      }
      .lane-track::after {
        background-image: repeating-linear-gradient(
          90deg,
          var(--hour) 0 1px,
          transparent 1px calc(100% / 24)
        );
        background-repeat: repeat-x;
        background-size: calc(100% / 24) 100%;
      }
      .ticks-top::before,
      .ticks-top::after {
        top: 0;
      }
      .ticks-bottom::before,
      .ticks-bottom::after {
        bottom: 0;
      }

      .progress-svg {
        position: absolute;
        pointer-events: none;
      }
      .progress-path {
        stroke: #000;
        stroke-width: 2.25;
        fill: none;
        shape-rendering: crispEdges;
        stroke-linecap: square;
      }
      .divider {
        border-top: 1px solid var(--line);
        margin: 12pt 0;
      }

      .shipping {
        border-left: 5px solid #000;
        border-bottom: 5px solid #000;
        padding: 10pt 12pt;
        margin-top: 6pt;
      }
      .ship-grid {
        display: grid;
        grid-template-columns: 1.4fr 1fr;
        gap: 12pt;
      }
      .bar-note {
        border-top: 1px solid var(--line);
        border-bottom: 1px solid var(--line);
        padding: 6pt 6pt;
        font-size: 8pt;
        color: #666;
        margin-top: 10pt;
      }

      .recap {
        margin-top: 10pt;
        display: flex;
        gap: 5px;
      }
      .recap-row {
        margin: 6pt 0;
      }
      .recap-note {
        font-size: 9pt;
        line-height: 1.35;
      }
    </style>
  </head>
  <body>
    <div class="page">
      <!-- Header -->
      <div class="row between" style="align-items: flex-end">
        <div class="col">
          <div class="title">Drivers Daily Log</div>
          <div class="sub">(24 hours)</div>
        </div>
        <div class="col" style="align-items: center">
          <div class="bval" style="padding: 3pt 10pt"></div>
          <div class="sub" style="font-size: 7.5pt; margin-top: 3pt">
            (month)&nbsp;&nbsp;(day)&nbsp;&nbsp;(year)
          </div>
        </div>
        <div class="sub" style="max-width: 240pt; text-align: right">
          Original — File at home terminal.<br />Duplicate — Driver retains in
          his/her possession for 8 days.
        </div>
      </div>

      <!-- From / To -->
      <div class="row between mt12">
        <div style="flex: 1; margin-right: 14pt">
          <div class="uline"></div>
          <div class="label">From:</div>
        </div>
        <div style="flex: 1">
          <div class="uline"></div>
          <div class="label">To:</div>
        </div>
      </div>

      <!-- Third row -->
      <div class="grid-two mt12">
        <div class="col" style="gap: 12pt">
          <div class="grid-two">
            <div>
              <div class="bval" style="min-width: 120pt; text-align: center">
                
              </div>
              <div class="label">Total Miles Driving Today</div>
            </div>
            <div>
              <div class="bval" style="min-width: 120pt; text-align: center">
                
              </div>
              <div class="label">Total Mileage Today</div>
            </div>
          </div>
          <div>
            <div class="bval" style="min-width: 100%; display: block">
              
            </div>
            <div class="label">
              Truck/Tractor and Trailer Numbers or License Plate(s)/State (show
              each unit)
            </div>
          </div>
        </div>

        <div class="col" style="gap: 12pt">
          <div>
            <div class="uline"></div>
            <div class="label">Name of Carrier or Carriers</div>
          </div>
          <div>
            <div class="uline"></div>
            <div class="label">Main Office Address</div>
          </div>
          <div>
            <div class="uline"></div>
            <div class="label">Home Terminal Address</div>
          </div>
        </div>
      </div>

      <!-- Timeline -->
      <div class="tl-wrap mt12" id="tl">
        <div class="tl-head">
          <div class="tl-label-left">Mid.</div>
          <div class="tl-scale" id="tl-scale"></div>
          <div class="tl-label-right">Total Hours</div>
        </div>

        <div class="lane">
          <div class="lane-name">1. Off Duty</div>
          <div class="lane-track ticks-top" data-lane="off"></div>
          <div class="lane-total"></div>
        </div>
        <div class="lane">
          <div class="lane-name">2. Sleeper Berth</div>
          <div class="lane-track ticks-top" data-lane="sb"></div>
          <div class="lane-total"></div>
        </div>
        <div class="lane">
          <div class="lane-name">3. Driving</div>
          <div class="lane-track ticks-bottom" data-lane="driving"></div>
          <div class="lane-total"></div>
        </div>
        <div class="lane">
          <div class="lane-name">4. On Duty (not driving)</div>
          <div class="lane-track ticks-bottom" data-lane="onduty"></div>
          <div class="lane-total"></div>
        </div>
      </div>

      <!-- Remarks -->
      <div class="mt12">
        <div class="label">Remarks</div>
        <div class="uline"></div>
        <div class="divider"></div>
      </div>

      <!-- Shipping -->
      <div class="label mt8">Shipping Documents</div>
      <div class="shipping">
        <div class="ship-grid">
          <div class="col" style="gap: 10pt">
            <div>
              <div class="uline"></div>
              <div class="label">B/L or Manifest No.</div>
            </div>
            <div class="sub" style="margin: 4pt 0 0">Or</div>
            <div>
              <div class="uline"></div>
              <div class="label">Shipper & Commodity</div>
            </div>
          </div>
          <div class="col" style="gap: 10pt">
            <div>
              <div class="uline"></div>
              <div class="label">Additional Notations</div>
            </div>
            <div>
              <div class="uline"></div>
              <div class="label">—</div>
            </div>
            <div>
              <div class="uline"></div>
              <div class="label">—</div>
            </div>
          </div>
        </div>

        <div class="bar-note">
          Enter name of place you reported and where released from work and when
          each change of duty occurred. Use time standard of home terminal.
        </div>
      </div>

      <div class="divider"></div>

      <!-- Recap (12 rows) -->
      <div class="recap">
        <div class="recap-row recap-note">Recap — Completed at end of day.</div>
        <div class="recap-row">
          <div class="uline"></div>
          <div class="label">On duty hours today</div>
        </div>
        <div class="recap-row recap-note">70 hours / 8 day drivers</div>
        <div class="recap-row">
          <div class="uline"></div>
          <div class="label">
            A. Total hours on duty last 7 days including today.
          </div>
        </div>
        <div class="recap-row">
          <div class="uline"></div>
          <div class="label">B. Total hours available tomorrow (70 − A)</div>
        </div>
        <div class="recap-row">
          <div class="uline"></div>
          <div class="label">Total hours on duty last 7 consecutive days</div>
        </div>
        <div class="recap-row recap-note">60 hours / 7 day drivers</div>
        <div class="recap-row">
          <div class="uline"></div>
          <div class="label">
            A. Total hours on duty last 7 days including today. (60/7)
          </div>
        </div>
        <div class="recap-row">
          <div class="uline"></div>
          <div class="label">B. Total hours available tomorrow (60 − A)</div>
        </div>
        <div class="recap-row">
          <div class="uline"></div>
          <div class="label">Total hours on duty last 7 consecutive days</div>
        </div>
        <div class="recap-row recap-note">
          If you took 34 consecutive hours off duty show return day:
        </div>
      </div>
    </div>

    <script>
      // data for progression polyline (inject from backend)
      window.LOG_DATA = [];

      (function () {
        const scale = document.getElementById("tl-scale");
        for (let h = 0; h <= 24; h++) {
          const el = document.createElement("div");
          el.className = "hour";
          el.style.left = `calc(${h}/24*100%)`;
          el.style.width = "0";
          if (h < 24) {
            const t = document.createElement("div");
            t.className = "h-txt";
            t.textContent = h === 0 ? "Mid." : h === 12 ? "Noon" : String(h % 12 || 12);
            el.appendChild(t);
          }
          scale.appendChild(el);
        }
      })();

      function buildProgress() {
        const tl = document.getElementById("tl");
        const tracks = Array.from(tl.querySelectorAll(".lane-track"));
        if (!tracks.length) return;

        const trackLeft = tracks[0].offsetLeft;
        const trackTop = tracks[0].offsetTop;
        const trackWidth = tracks[0].clientWidth;
        const trackBottom = tracks[tracks.length - 1].offsetTop + tracks[tracks.length - 1].offsetHeight;
        const trackHeight = trackBottom - trackTop;

        const old = tl.querySelector(".progress-svg");
        if (old) old.remove();

        const svg = document.createElementNS("http://www.w3.org/2000/svg","svg");
        svg.setAttribute("class","progress-svg");
        svg.style.left = trackLeft + "px";
        svg.style.top = trackTop + "px";
        svg.style.width = trackWidth + "px";
        svg.style.height = trackHeight + "px";
        svg.setAttribute("viewBox", `0 0 ${trackWidth} ${trackHeight}`);
        tl.appendChild(svg);

        const laneY = {};
        tracks.forEach((tr) => {
          laneY[tr.getAttribute("data-lane")] = tr.offsetTop - trackTop + tr.clientHeight / 2;
        });

        const clamp = (x, min, max) => Math.max(min, Math.min(max, x));
        const xOf = (min) => clamp((min / 1440) * trackWidth, 0, trackWidth);

        const changes = Array.isArray(window.LOG_DATA) && window.LOG_DATA.length
          ? window.LOG_DATA
          : [
              { t: 0, lane: "off" },
              { t: 300, lane: "sb" },
              { t: 420, lane: "driving" },
              { t: 720, lane: "onduty" },
              { t: 780, lane: "driving" },
              { t: 930, lane: "onduty" },
              { t: 1020, lane: "off" },
            ];

        let d = "";
        const start = changes[0];
        d += `M ${xOf(start.t)} ${laneY[start.lane]}`;
        for (let i = 1; i < changes.length; i++) {
          const cur = changes[i];
          d += ` H ${xOf(cur.t)}`;
          d += ` V ${laneY[cur.lane]}`;
        }

        const path = document.createElementNS("http://www.w3.org/2000/svg","path");
        path.setAttribute("class","progress-path");
        path.setAttribute("d", d);
        svg.appendChild(path);
      }

      window.addEventListener("load", buildProgress);
      window.addEventListener("resize", () => {
        clearTimeout(window.__r);
        window.__r = setTimeout(buildProgress, 150);
      });
    </script>
  </body>
</html>
